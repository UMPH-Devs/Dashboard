
<input type="hidden" value="@ViewBag.moduleId" id="moduleId" />


<div id="app">
    <div class="panel panel-default">
        <div class="panel-heading text-center">
            <h3 class="text-center">Edit Module Type</h3>
        </div>


        <div class="alert alert-success alert-dismissible" role="alert" v-show="alert.visible">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <strong v-text="alert.status"></strong> <span v-text="alert.text"></span>
        </div>

        <div class="form-horizontal">
            <!-- App Id-->
            <div class="form-group">
                <label for="formAppId" class="col-lg-2 control-label">App Id</label>
                <div class="col-lg-10">
                    <input type="text" id="formAppId" class="form-control" placeholder="App Id" v-model="module.AppId" disabled />
                </div>
            </div>

            <!--Name-->
            <div class="form-group" :class="{'has-error': nameError}">
                <label class="col-lg-2 control-label">Name</label>
                <div class="col-lg-10">
                    <input type="text" class="form-control" placeholder="Name" v-model="module.Name" />
                </div>
                <div class="help-block col-lg-10 col-lg-offset-2 text-danger" v-show="nameError">Name Id is required</div>
            </div>

            <!--URL-->
            <div class="form-group" :class="{'has-error': urlFrequencyError}">
                <label class="col-lg-2 control-label">URL</label>
                <div class="col-lg-10">
                    <input type="text" class="form-control" placeholder="URL" v-model="module.URL" />
                </div>
                <div class="help-block col-lg-10 col-lg-offset-2 text-danger" v-show="urlFrequencyError">Url and Frequency must both be present or empty.</div>
            </div>

            <!--Frequency-->
            <div class="form-group" :class="{'has-error': urlFrequencyError}">
                <label class="col-lg-2 control-label">Frequency</label>
                <div class="col-lg-10">
                    <input type="text" placeholder="Frequency" class="form-control" v-model="module.Frequency" />
                </div>
                <div class="help-block col-lg-10 col-lg-offset-2 text-danger" v-show="urlFrequencyError">Url and Frequency must both be present or empty.</div>
            </div>

            <!--buttons-->
            <div class="form-group" :class="{'has-error': urlFrequencyError}">
                <div class="col-lg-offset-2 col-lg-10">
                    <button class="btn btn-primary" v-on:click="onSubmit()">Submit</button>
                    <a href="/modules" class="btn btn-default">Cancel</a>
                    <button class="btn btn-danger" v-on:click="showModule()">Delete Module</button>
                </div>
            </div>

            <div class="module-wrapper" v-show="isModuleVisible">
                <div class="panel panel-danger module">
                    <div class="panel-heading clearfix">
                        <button class="btn btn-default md-header-button" v-on:click="hideModule()">×</button>
                    </div>
                    <div class="panel-body" style="min-height: 200px;">
                        Are you sure that you want to delete this module type? This will also delete ALL status' that have exsisted for it!
                    </div>
                    <div class="panel-footer">
                        <button class="btn btn-default" v-on:click="hideModule()">Cancel</button>
                        <button class="btn btn-danger" v-on:click="onDelete()">Delete</button>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>
@section scripts
{
    <script src="~/js/moduleEdit.js"></script>
}
